(function() {
  const payload = {
    es: {
      'duration.title': 'Duraciones largas y cortas',
      'duration.instructions': 'Escucha el patrón de sonidos largos y cortos y elige la tarjeta con la misma combinación rítmica.',
      'duration.stats.score': 'Puntuación:',
      'duration.stats.streak': 'Racha:',
      'duration.stats.lives': 'Vidas:',
      'duration.stats.level': 'Nivel:',
      'duration.controls.start': 'Comenzar',
      'duration.controls.playing': 'Jugando…',
      'duration.controls.listen': 'Escuchar patrón',
      'duration.controls.reset': 'Reiniciar',
      'duration.view.lines': 'Líneas',
      'duration.view.symbols': 'Representación musical',
      'duration.prompt.idle': 'Pulsa “Comenzar” para generar un patrón de duraciones.',
      'duration.prompt.listen': 'Escucha el patrón y elige la tarjeta correcta.',
      'duration.prompt.levelup': 'Nuevo nivel: {cards} tarjetas en juego.',
      'duration.feedback.idle': 'Escucha el patrón y elige la tarjeta correcta.',
      'duration.feedback.ready': 'Pulsa en la tarjeta que coincida con el patrón.',
      'duration.feedback.listening': 'Escucha con atención…',
      'duration.feedback.correct': '¡Correcto! Puntuación: {score}',
      'duration.feedback.levelup': 'Subiste de nivel: ahora hay {cards} opciones.',
      'duration.feedback.wrong': 'No coincide. Te quedan {lives} vidas.',
      'duration.feedback.lastlife': 'No coincide. ¡Última vida!',
      'duration.feedback.gameover': 'Partida terminada. Puntuación: {score}',
      'duration.token.quarter': 'Negra',
      'duration.token.pair_eighths': 'Dos corcheas',
      'duration.token.quarter_rest': 'Silencio de negra',
      'duration.token.half': 'Blanca',
      'duration.token.sixteenth_group': 'Cuatro semicorcheas'
    },
    val: {
      'duration.title': 'Durades llargues i curtes',
      'duration.instructions': 'Escolta el patró de sons llargs i curts i tria la targeta amb la mateixa combinació rítmica.',
      'duration.stats.score': 'Puntuació:',
      'duration.stats.streak': 'Ratxa:',
      'duration.stats.lives': 'Vides:',
      'duration.stats.level': 'Nivell:',
      'duration.controls.start': 'Començar',
      'duration.controls.playing': 'Jugant…',
      'duration.controls.listen': 'Escoltar patró',
      'duration.controls.reset': 'Reiniciar',
      'duration.view.lines': 'Línies',
      'duration.view.symbols': 'Notació',
      'duration.prompt.idle': 'Prem «Començar» per a generar un patró de duracions.',
      'duration.prompt.listen': 'Escolta el patró i tria la targeta correcta.',
      'duration.prompt.levelup': 'Nou nivell: {cards} targetes en joc.',
      'duration.feedback.idle': 'Escolta el patró i tria la targeta correcta.',
      'duration.feedback.ready': 'Prem la targeta que coincidix amb el patró.',
      'duration.feedback.listening': 'Escolta amb atenció…',
      'duration.feedback.correct': 'Correcte! Puntuació: {score}',
      'duration.feedback.levelup': 'Has pujat de nivell: ara hi ha {cards} opcions.',
      'duration.feedback.wrong': 'No coincidix. Et queden {lives} vides.',
      'duration.feedback.lastlife': 'No coincidix. Última vida!',
      'duration.feedback.gameover': 'Partida acabada. Puntuació: {score}',
      'duration.token.quarter': 'Negra',
      'duration.token.pair_eighths': 'Dos corxeres',
      'duration.token.quarter_rest': 'Silenci de negra',
      'duration.token.half': 'Blanca',
      'duration.token.sixteenth_group': 'Quatre semicorxeres'
    },
    en: {
      'duration.title': 'Long and Short Durations',
      'duration.instructions': 'Listen to the pattern of long and short sounds and pick the card with the same rhythmic combination.',
      'duration.stats.score': 'Score:',
      'duration.stats.streak': 'Streak:',
      'duration.stats.lives': 'Lives:',
      'duration.stats.level': 'Level:',
      'duration.controls.start': 'Start',
      'duration.controls.playing': 'In play…',
      'duration.controls.listen': 'Play pattern',
      'duration.controls.reset': 'Restart',
      'duration.view.lines': 'Lines',
      'duration.view.symbols': 'Musical notation',
      'duration.prompt.idle': 'Press “Start” to generate a duration pattern.',
      'duration.prompt.listen': 'Listen to the pattern and choose the matching card.',
      'duration.prompt.levelup': 'Level up! {cards} cards are now in play.',
      'duration.feedback.idle': 'Listen to the pattern and choose the correct card.',
      'duration.feedback.ready': 'Tap the card that matches the pattern.',
      'duration.feedback.listening': 'Listen carefully…',
      'duration.feedback.correct': 'Correct! Score: {score}',
      'duration.feedback.levelup': 'Level up: there are now {cards} options.',
      'duration.feedback.wrong': 'Not quite. You have {lives} lives left.',
      'duration.feedback.lastlife': 'Not quite. Last life!',
      'duration.feedback.gameover': 'Game over. Score: {score}',
      'duration.token.quarter': 'Quarter note',
      'duration.token.pair_eighths': 'Two eighth notes',
      'duration.token.quarter_rest': 'Quarter rest',
      'duration.token.half': 'Half note',
      'duration.token.sixteenth_group': 'Four sixteenth notes'
    }
  };

  if (window.i18n && typeof window.i18n.registerBundle === 'function') {
    window.i18n.registerBundle('duration-choice', payload);
  } else {
    window.__i18nPendingBundles = window.__i18nPendingBundles || [];
    window.__i18nPendingBundles.push({ name: 'duration-choice', payload });
  }
})();
